<!-- Market filter -->
<%= form_with url: path, method: :get, data: {turbo_frame: '_top'} do |f| %>
    <div class="w-full sm:w-2/3 md:w-4/5 lg:w-1/2 inline-flex items-center z-10 mx-auto grid grid-cols-1 md:grid-cols-2 border-gray-300 bg-gray-700 rounded-xl p-3 md:p-0 mb-2">
        <!-- Category -->
        <div class="w-full h-14 items-center flex border-0 border-b border-gray-600 md:border-r md:border-b-0 pl-2.5">
            <%= image_tag(asset_path('icons/icons8-sorting-64.png'), class: 'w-6 h-6 mr-1')%>
            <%= f.collection_select(:category_id, @categories, :id, :title, 
            { include_blank: Category.model_name.human, selected: params[:category_id]}, 
            { class: "h-full text-base md:rounded-l-xl block w-full p-2.5 bg-gray-700 placeholder-gray-400 text-gray-400 hover:text-gray-100 focus:ring-0 focus:border-gray-100 focus:text-gray-100 border-0"})%>
        </div>
        <!-- Thing -->
        <div class="w-full h-14 items-center flex md:border-0 border-b border-gray-600 pl-2.5">
            <%= image_tag(asset_path('icons/icons8-sorting-64.png'), class: 'w-6 h-6 mr-1')%>
            <%= f.collection_select(:thing_id, @things, :id, :title, 
            { include_blank: Product.human_attribute_name('things'),  selected: params[:thing_id]}, 
            { class: "h-full text-base md:rounded-r-xl block w-full p-2.5 bg-gray-700  placeholder-gray-400 text-gray-400 hover:text-gray-100 focus:ring-0 focus:border-gray-100 focus:text-gray-100 border-0"})%>
        </div>

        <!-- District -->
        <div class="w-full h-14 items-center flex border-0 border-y border-gray-600 md:border-r md:border-b-0 pl-2.5">
            <%= heroicon 'map-pin', class: 'w-6 h-6 mr-1 text-gray-500'%>
            <%= f.collection_select(:district_id, @districts, :id, :title, 
            { include_blank: District.model_name.human, selected: params[:district_id]}, 
            { class: "h-full text-base md:rounded-l-xl block w-full p-2.5 bg-gray-700 placeholder-gray-400 text-gray-400 hover:text-gray-100 focus:ring-0 focus:border-gray-100 focus:text-gray-100 border-0"})%>
        </div>
        <!-- City -->
        <div class="w-full h-14 items-center flex border-0 border-t border-gray-600 pl-2.5">
            <%= heroicon 'map-pin', class: 'w-6 h-6 mr-1 text-gray-500'%>
            <%= f.collection_select(:city_id, @cities, :id, :title, 
            { include_blank: City.model_name.human,  selected: params[:city_id]}, 
            { class: "h-full text-base md:rounded-r-xl block w-full p-2.5 bg-gray-700  placeholder-gray-400 text-gray-400 hover:text-gray-100 focus:ring-0 focus:border-gray-100 focus:text-gray-100 border-0"})%>
        </div>
        
        <!-- Submit -->
        <%= tag.div class: " w-full h-auto p-3 col-span-full border-t border-gray-600" do %>
            <%= f.submit t('global.find_btn', model: Product.model_name.human), class: "flex capitalize items-center justify-center w-full px-2 py-2 h-full text-base font-medium text-gray-300 bg-gray-800 rounded-lg border border-gray-800 hover:bg-gray-900 focus:ring-1 focus:outline-none focus:ring-gray-300"%>
        <% end %>
<% end %>
        <!-- Market link -->
        <%= tag.div class: " w-full h-auto p-3 col-span-full border-t border-gray-600" do %>
            <%= link_to products_path, data: {turbo_frame: '_top'},
                class: "flex capitalize items-center justify-center w-full px-2 py-2 h-full text-base font-medium text-gray-300 bg-gray-800 rounded-lg border border-gray-800 hover:bg-gray-900 focus:ring-1 focus:outline-none focus:ring-gray-300" do %>
                <%= t('product.all_products')%>
                <svg class="ml-2 -mr-1 w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
            <% end %>
        <% end if action_name == 'user_products'%>
    </div>


