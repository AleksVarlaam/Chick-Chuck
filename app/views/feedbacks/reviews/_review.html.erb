<div class="m-3 w-full space-y-3">
    <!-- Header reviews -->
    <div class="flex justify-center items-center">
        <p class="bg-blue-200 text-blue-800 text-sm font-semibold inline-flex items-center p-1.5 rounded">
            <%= company.rating %>
        </p>
        <%= tag.p 'Excellent!', class: "ml-2 font-medium text-gray-700" if (company.rating.present? && company.rating > 9)%>
        <span class="mx-2 w-1 h-1 bg-gray-500 rounded-full"></span>
        <p class="text-sm font-medium text-gray-400"><%= company.decorate.reviews_count%></p>
        <span class="mx-2 w-1 h-1 bg-gray-500 rounded-full"></span>
        <p class="text-sm font-medium text-gray-400"><%= company.decorate.comments_count %></p>
    </div>
    
    <!-- Full reviews -->
    <% if [action_name, controller_name].eql?(['show', 'trucks']) || [action_name, controller_name].eql?(['show', 'users']) %>
        <div class="gap-x-5 grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-4 xl:grid-cols-3">
            <!-- Reviews hash -->
            <% company.decorate.reviews_hash.each do |key, count|%>
                <div class="col-span-1 sm:col-span-2 lg:col-span-2 xl:col-span-1">
                    <dl>
                        <%= tag.dt Review.human_attribute_name(key.to_s), class:"text-sm font-medium text-gray-400"%>
                        <dd class="flex items-center mb-3">
                            <div class="w-full bg-gray-700 rounded h-2.5 mr-2">
                                <div class="bg-blue-500 h-2.5 rounded" style="width: <%= rating_bar(count)%>%"></div>
                            </div>
                            <span class="text-sm font-medium text-gray-400"><%= count if count.positive?%></span>
                        </dd>
                    </dl>
                </div>
            <% end %>
        </div>
    <% end %>
</div>  