<div class="m-3">
    <!-- Header reviews -->
    <div class="mb-5 grid grid-cols-4 gap-0 flex items-center">
        <div class="col-span-3 w-full flex items-center">
            <%= tag.p truck.rating, class: "bg-blue-200 text-blue-800 text-sm font-semibold inline-flex items-center p-1.5 rounded" %>
            <span class="mx-2 w-1 h-1 bg-gray-500 rounded-full"></span>
            <%= tag.p truck.reviews_count, class: "text-sm font-medium text-gray-400"%>
            <span class="mx-2 w-1 h-1 bg-gray-500 rounded-full"></span>
            <%= tag.p truck.comments_count, class: "text-sm font-medium text-gray-400"%>
        </div>
        <!-- Truck number -->
        <div class="col-span-1 flex justify-end">
            <%= tag.span "#{truck.number}", class: "underline text-end text-[15px] font-medium text-gray-600 -mt-4"%>
        </div>
    </div>
    <!-- Full reviews -->
    <% if [action_name, controller_name].eql?(['show', 'trucks']) %>
    <div class="gap-0 grid grid-cols-1 sm:gap-x-5 sm:grid-cols-4 lg:gap-x-5 lg:grid-cols-4 xl:gap-x-5 xl:grid-cols-3">
        <!-- Reviews hash -->
        <% @reviews_hash.each do |key, count|%>
            <div class="col-span-1 sm:col-span-2 lg:col-span-2 xl:col-span-1">
                <dl>
                    <%= tag.dt Review.human_attribute_name(key.to_s), class:"text-sm font-medium text-gray-400"%>
                    <dd class="flex items-center mb-3">
                        <div class="w-full bg-gray-700 rounded h-2.5 mr-2">
                            <div class="bg-blue-500 h-2.5 rounded" style="width: <%= rating_bar(count)%>%"></div>
                        </div>
                        <span class="text-sm font-medium text-gray-400"><%= count if count.positive?%></span>
                    </dd>
                </dl>
            </div>
        <% end %>
        
    </div>
    <% end %>
</div>  