<!-- Comments section-->
<section class="w-full col-span-full">
  <!-- Count -->
  <%= tag.h3 "#{t('comment.comments')}: #{@comments.count}", class: "my-5 text-xl font-semibold text-gray-900 text-center", id: 'comments_title'%>
  <!-- Content -->
  <div class="overflow-auto max-h-screen">
      <%= turbo_frame_tag dom_id(@commentable, :comments) do %>
          <%= render partial: "feedbacks/comments/comment", collection: @comments.decorate %>
      <% end %>
      <!-- Pagination -->
      <%== pagy_nav(@pagy) if Comment.where(commentable: @commentable).count > 10%>
  </div>
  <!-- Form -->
  <% if user_signed_in?%>
      <%= render "feedbacks/comments/form"%>
  <% else%>
      <!-- Log in button -->
      <div class="text-center text-lg my-5">
          <%= tag.p t('comment.need_to_signin')%>
          <%= link_to t('guest_menu.sign_in'), new_client_session_path, 
            class:"text-blue-600 hover:text-blue-700 focus:text-blue-700 transition duration-200 ease-in-out",
            data: {turbo_frame: 'modal'}
          %>
      </div>
  <% end %>
</section>
